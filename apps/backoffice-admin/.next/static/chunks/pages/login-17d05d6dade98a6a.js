(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7908:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(4809)}])},4809:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return l}});var r=a(7458),t=a(2983),s=a(2019);function l(){let[e,n]=(0,t.useState)("admin@example.com"),[a,l]=(0,t.useState)(""),[i,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),m=async()=>{d(!0),o(null);try{let n=await fetch("".concat("http://18.156.174.103:3000","/auth/admin/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,adminKey:a})}),r=await n.json();if(!n.ok)throw Error(r.error||"Login \xe9chou\xe9");localStorage.setItem("admin_jwt",r.token),location.href="/orgs"}catch(e){o(e.message||"Erreur r\xe9seau")}finally{d(!1)}},u=e=>{"Enter"!==e.key||c||m()};return(0,r.jsx)("div",{style:{maxWidth:"420px",margin:"3rem auto"},children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)("h2",{className:"card-title",style:{fontSize:"1.5rem"},children:"Connexion Admin"}),(0,r.jsx)("p",{className:"card-subtitle",children:"Acc\xe9dez au backoffice d'administration"})]}),i&&(0,r.jsxs)("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"8px",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("span",{children:"⚠️"}),(0,r.jsx)("span",{children:i})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsx)("input",{className:"form-input",type:"email",placeholder:"admin@example.com",value:e,onChange:e=>n(e.target.value),onKeyPress:u,disabled:c})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Cl\xe9 d'administration"}),(0,r.jsx)("input",{className:"form-input",type:"password",placeholder:"Entrez votre cl\xe9 admin",value:a,onChange:e=>l(e.target.value),onKeyPress:u,disabled:c})]}),(0,r.jsx)("button",{className:"btn btn-primary btn-lg",onClick:m,disabled:c,style:{width:"100%"},children:c?(0,r.jsxs)("span",{className:"flex items-center",style:{justifyContent:"center"},children:[(0,r.jsx)("span",{className:"loading"}),(0,r.jsx)("span",{style:{marginLeft:"0.5rem"},children:"Connexion..."})]}):"Se connecter"}),(0,r.jsx)("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--border)"},children:(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",textAlign:"center"},children:["Besoin d'aide ? ",(0,r.jsx)("a",{href:s.env.NEXT_PUBLIC_SUPPORT_URL||"https://www.rt-technologie.com",target:"_blank",rel:"noreferrer",style:{color:"var(--primary)",fontWeight:500},children:"Contactez le support"})]})})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7908)}),_N_E=e.O()}]);