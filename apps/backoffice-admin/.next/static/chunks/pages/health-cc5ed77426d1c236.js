(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{4003:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/health",function(){return n(8013)}])},8013:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7458),s=n(2983);let i="http://3.76.34.154:3000";function l(){let[e,t]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),[c,a]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{try{let e={};{let t=window.localStorage.getItem("admin_jwt");t&&(e.authorization="Bearer ".concat(t))}let[n,r]=await Promise.all([fetch("".concat(i,"/admin/health"),{headers:e}).then(e=>e.json()),fetch("".concat(i,"/admin/health/full"),{headers:e}).then(e=>e.json())]);t(n),l(r)}catch(e){a(e.message||"Erreur r\xe9seau")}})()},[]),c)?(0,r.jsx)("p",{style:{color:"red"},children:c}):e&&n?(0,r.jsxs)("main",{children:[(0,r.jsx)("h2",{children:"Etat des services"}),(0,r.jsxs)("div",{style:{marginBottom:12},children:[(0,r.jsx)("strong",{children:"Admin Gateway"}),": Mongo: ",String(e.mongo)," — AWS: ",String(e.aws)]}),(0,r.jsxs)("table",{border:1,cellPadding:6,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Service"}),(0,r.jsx)("th",{children:"OK"}),(0,r.jsx)("th",{children:"D\xe9tails"})]})}),(0,r.jsx)("tbody",{children:Object.entries(n.services||{}).map(e=>{let[t,n]=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:String(n.ok)}),(0,r.jsx)("td",{children:(0,r.jsx)("pre",{style:{margin:0},children:JSON.stringify(n,null,2)})})]},t)})})]})]}):(0,r.jsx)("p",{children:"Chargement…"})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4003)}),_N_E=e.O()}]);