(()=>{var e={};e.id=726,e.ids=[726,888,660],e.modules={5059:(e,s)=>{"use strict";Object.defineProperty(s,"l",{enumerable:!0,get:function(){return function e(s,t){return t in s?s[t]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,t)):"function"==typeof s&&"default"===t?s:void 0}}})},6822:(e,s,t)=>{"use strict";t.r(s),t.d(s,{config:()=>j,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>g,reportWebVitals:()=>b,routeModule:()=>N,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>f});var a={};t.r(a),t.d(a,{default:()=>u});var r=t(4614),n=t(2933),l=t(5059),i=t(6801),d=t.n(i),c=t(50),o=t(997),h=t(6689);function u(){let[e,s]=(0,h.useState)(""),[t,a]=(0,h.useState)(!1),[r,n]=(0,h.useState)([]),[l,i]=(0,h.useState)(null),d=async()=>{a(!0),i(null);try{let s=await fetch(`http://3.76.34.154:3000/admin/orgs?query=${encodeURIComponent(e)}`,{headers:{}}),t=await s.json();n(t.items||[])}catch(e){i(e.message||"Erreur r\xe9seau")}finally{a(!1)}},c=e=>({active:"badge-success",pending:"badge-warning",suspended:"badge-danger",inactive:"badge-secondary"})[e.toLowerCase()]||"badge-secondary";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"card-header",style:{border:"none",paddingLeft:0},children:[o.jsx("h2",{className:"card-title",style:{fontSize:"1.75rem"},children:"Organisations"}),o.jsx("p",{className:"card-subtitle",children:"G\xe9rez les organisations et leurs abonnements"})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"flex gap-2 mb-3",children:[o.jsx("input",{className:"form-input",value:e,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||t||d()},placeholder:"Rechercher par nom, email ou ID...",style:{flex:1},disabled:t}),o.jsx("button",{className:"btn btn-primary",onClick:d,disabled:t,children:t?(0,o.jsxs)("span",{className:"flex items-center",children:[o.jsx("span",{className:"loading"}),o.jsx("span",{style:{marginLeft:"0.5rem"},children:"Recherche..."})]}):"Rechercher"})]}),l&&(0,o.jsxs)("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("span",{children:"⚠️"}),o.jsx("span",{children:l})]}),0!==r.length||t||l?o.jsx("div",{className:"table-container",children:(0,o.jsxs)("table",{className:"table",children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"Nom"}),o.jsx("th",{children:"R\xf4le"}),o.jsx("th",{children:"Statut"}),o.jsx("th",{children:"Plan"}),o.jsx("th",{children:"Addons"}),o.jsx("th",{style:{textAlign:"right"},children:"Actions"})]})}),o.jsx("tbody",{children:r.map(e=>(0,o.jsxs)("tr",{children:[o.jsx("td",{children:o.jsx("code",{style:{background:"var(--bg-secondary)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8125rem",fontFamily:"monospace"},children:e.id.substring(0,8)})}),o.jsx("td",{style:{fontWeight:500},children:e.name}),o.jsx("td",{children:o.jsx("span",{className:"badge badge-secondary",children:e.role})}),o.jsx("td",{children:o.jsx("span",{className:`badge ${c(e.status)}`,children:e.status})}),o.jsx("td",{children:e.plan?o.jsx("span",{className:"badge badge-info",children:e.plan}):o.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}),o.jsx("td",{children:e.addons&&e.addons.length>0?o.jsx("div",{className:"flex gap-2",style:{flexWrap:"wrap"},children:e.addons.map((e,s)=>o.jsx("span",{className:"badge badge-secondary",style:{fontSize:"0.6875rem"},children:e},s))}):o.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}),o.jsx("td",{style:{textAlign:"right"},children:o.jsx("a",{href:`/orgs/${e.id}`,className:"btn btn-sm btn-outline",children:"Ouvrir"})})]},e.id))})]})}):(0,o.jsxs)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:[o.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\uD83D\uDCED"}),o.jsx("p",{children:"Aucune organisation trouv\xe9e"})]}),r.length>0&&(0,o.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"8px",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[r.length," organisation",r.length>1?"s":""," trouv\xe9e",r.length>1?"s":""]})]})]})}let m=(0,l.l)(a,"default"),g=(0,l.l)(a,"getStaticProps"),x=(0,l.l)(a,"getStaticPaths"),p=(0,l.l)(a,"getServerSideProps"),j=(0,l.l)(a,"config"),b=(0,l.l)(a,"reportWebVitals"),f=(0,l.l)(a,"unstable_getStaticProps"),v=(0,l.l)(a,"unstable_getStaticPaths"),P=(0,l.l)(a,"unstable_getStaticParams"),y=(0,l.l)(a,"unstable_getServerProps"),S=(0,l.l)(a,"unstable_getServerSideProps"),N=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/orgs",pathname:"/orgs",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:a})},50:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(997);function r({Component:e,pageProps:s}){let t=process.env.NEXT_PUBLIC_SUPPORT_URL||"https://www.rt-technologie.com";return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"app-container",children:[a.jsx("header",{className:"app-header",children:(0,a.jsxs)("div",{className:"header-content",children:[(0,a.jsxs)("a",{href:"/",className:"logo",children:[a.jsx("div",{className:"logo-icon",children:"RT"}),a.jsx("span",{children:"Backoffice Admin"})]}),(0,a.jsxs)("nav",{className:"main-nav",children:[a.jsx("a",{href:"/",className:"nav-link",children:"Accueil"}),a.jsx("a",{href:"/orgs",className:"nav-link",children:"Organisations"}),a.jsx("a",{href:"/pricing",className:"nav-link",children:"Tarifs"}),a.jsx("a",{href:"/palettes",className:"nav-link",children:"Palettes"}),a.jsx("a",{href:"/health",className:"nav-link",children:"\xc9tat"}),a.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"nav-link",children:"Support"}),a.jsx("a",{href:"/login",className:"btn btn-primary btn-sm",children:"Se connecter"})]})]})}),a.jsx("main",{className:"main-content",children:a.jsx(e,{...s})})]})})}t(1882)},1882:()=>{},2933:(e,s)=>{"use strict";var t;Object.defineProperty(s,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[801],()=>t(6822));module.exports=a})();